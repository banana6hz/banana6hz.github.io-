(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{212:function(s,a,e){"use strict";e.r(a);var n=e(0),t=Object(n.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h3",{attrs:{id:"ä¸€ã€å¿«é€Ÿæ­å»ºä¸€ä¸ªkoaé¡¹ç›®"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€å¿«é€Ÿæ­å»ºä¸€ä¸ªkoaé¡¹ç›®","aria-hidden":"true"}},[s._v("#")]),s._v(" ä¸€ã€å¿«é€Ÿæ­å»ºä¸€ä¸ªkoaé¡¹ç›®")]),s._v(" "),e("hr"),s._v(" "),e("ol",[e("li",[s._v("æ£€æŸ¥Nodeç‰ˆæœ¬ï¼Œè‡³å°‘åœ¨7.6.0ä»¥ä¸Šã€‚")]),s._v(" "),e("li",[s._v("ä½¿ç”¨å¿«é€Ÿæ­å»ºå·¥å…· "),e("code",[s._v("npm install koa-generator -g")])]),s._v(" "),e("li",[s._v("ç”Ÿæˆé¡¹ç›® "),e("code",[s._v("koa2 project-name")])]),s._v(" "),e("li",[s._v("å®‰è£…ä¾èµ– "),e("code",[s._v("npm install")])]),s._v(" "),e("li",[s._v("è¿è¡Œ "),e("code",[s._v("npm start")]),s._v(" æ‰“å¼€ http://localhost:3000")])]),s._v(" "),e("hr"),s._v(" "),e("hr"),s._v(" "),e("h3",{attrs:{id:"äºŒã€æ‰‹åŠ¨æ­å»ºä¸€ä¸ªkoaé¡¹ç›®"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€æ‰‹åŠ¨æ­å»ºä¸€ä¸ªkoaé¡¹ç›®","aria-hidden":"true"}},[s._v("#")]),s._v(" äºŒã€æ‰‹åŠ¨æ­å»ºä¸€ä¸ªkoaé¡¹ç›®")]),s._v(" "),e("hr"),s._v(" "),e("ol",[e("li",[s._v("æ£€æŸ¥Nodeç‰ˆæœ¬ï¼Œè‡³å°‘åœ¨7.6.0ä»¥ä¸Šã€‚")]),s._v(" "),e("li",[s._v("åˆ›å»ºå¹¶è¿›å…¥é¡¹ç›®æ–‡ä»¶å¤¹ï¼Œ"),e("code",[s._v("npm init")]),s._v(", åˆå§‹åŒ–packjson.js")]),s._v(" "),e("li",[s._v("å®‰è£…koa"),e("code",[s._v("npm install koa --save")])]),s._v(" "),e("li",[s._v("åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º"),e("code",[s._v("app.js")]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" const Koa = require('koa');\n const app = new Koa();  \n app.use(async ctx => {\n ctx.body = 'Hello koa!';\n });    \n app.listen(3000);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])])]),s._v(" "),e("li",[s._v("åœ¨"),e("code",[s._v("package.json")]),s._v("æ·»åŠ å¯åŠ¨å‘½ä»¤"),e("code",[s._v('"start": "node app.js"')])]),s._v(" "),e("li",[e("code",[s._v("npm run start")]),s._v("å¯åŠ¨æœåŠ¡ï¼Œæ‰“å¼€"),e("code",[s._v("http://localhost:3000")]),s._v("ï¼Œè¿™æ ·koaçš„æˆ¿äº§è¯ðŸ å°±æ‹¿åˆ°å•¦ï¼ä¸‹é¢è®©æˆ‘ä»¬æ¥å¼€å§‹æ¬ç –å»ºæˆ¿å­ðŸ’ª")]),s._v(" "),e("li",[s._v("åœ¨é¡¹ç›®ä¸‹åˆ›å»ºä¸€ä¸ªå­˜æ”¾htmlæ–‡ä»¶çš„ç›®å½•viewsï¼Œå¹¶åœ¨è¯¥ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª"),e("code",[s._v("index.html")]),s._v("ï¼Œç„¶åŽä¿®æ”¹"),e("code",[s._v("app.js")]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("// app.js// åŽŸç”Ÿè·¯ç”±\nconst Koa = require('koa');\nconst fs = require('fs');\nconst app = new Koa(); \napp.use(async (ctx, next) => {\nif (ctx.request.path === '/index') {\nctx.type = 'text/html';\nctx.body = fs.createReadStream('./views/index.html');\n} else {\nawait next();\n}\n});\napp.listen(3000);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])])]),s._v(" "),e("li",[s._v("å®‰è£…è·¯ç”±ä¸­é—´ä»¶"),e("code",[s._v("npm install koa-router -S")])]),s._v(" "),e("li",[s._v("æ–°å»º"),e("code",[s._v("routes")]),s._v("ç›®å½•ï¼Œç”¨æ¥å­˜æ”¾è·¯ç”±æ–‡ä»¶ï¼Œå¹¶åœ¨ç›®å½•ä¸‹åˆ›å»º"),e("code",[s._v("index.js")]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("// routes/index.js\n\nconst fs = require('fs');\nconst router = require('koa-router')()\n\nrouter.get('/', async (ctx, next) => {\nctx.type = 'text/html';\nctx.body = fs.createReadStream('./views/index.html');\n});\n\nmodule.exports = router\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),s._v("è¿™æ ·ç›´æŽ¥è®¿é—®é¡µé¢å‡ºæ¥çš„å°±æ˜¯ðŸ‘‰viewæ–‡ä»¶å¤¹ä¸‹index.htmlçš„å†…å®¹äº†")]),s._v(" "),e("li",[s._v("å®‰è£…koa-staticï¼Œå¹¶æ–°å»ºpublicæ–‡ä»¶å¤¹å­˜æ”¾é™æ€èµ„æºï¼Œè¿è¡Œ"),e("code",[s._v("npm install koa-static -S")]),s._v(",ç„¶åŽåœ¨app.jsé‡Œæ·»åŠ ä»¥ä¸‹ä»£ç "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const static = require('koa-static')// allowedMethods ç”¨äºŽæ ¡éªŒè¯·æ±‚çš„æ–¹æ³•ï¼Œå¦‚æžœç”¨ post è¯·æ±‚è®¿é—® get æŽ¥å£ï¼Œå°±ä¼šç›´æŽ¥è¿”å›žå¤±è´¥     \nconst main = static(_dirname + '/public')// å°† public ç›®å½•è®¾ç½®ä¸ºé™æ€èµ„æºç›®å½•      \napp.use(main)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])])]),s._v(" "),e("li",[s._v("å®‰è£…koa-views "),e("code",[s._v("npm install koa-views -S")]),s._v(",åœ¨app.jsæ·»åŠ ä¸€ä¸‹ä»£ç "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const views = require('koa-views')\napp.use(views(_dirname + '/views')\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])]),s._v(" "),e("li",[s._v("ç„¶åŽåœ¨è·¯ç”±æ–‡ä»¶ä¸­ï¼Œå°±èƒ½ä½¿ç”¨ render æ–¹æ³•äº†"),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("// routes/index.js\n\nconst router = require('koa-router')()\n\nrouter.get('/index', async (ctx, next) => {\nawait ctx.render('index');\n});\n\nmodule.exports = router\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])])])]),s._v(" "),e("p",[s._v("https://www.jb51.net/article/132352.htm")])])}),[],!1,null,null,null);a.default=t.exports}}]);