(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{406:function(e,t,a){"use strict";a.r(t);var s=a(33),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h3",{attrs:{id:"ä¸€ã€å¿«é€Ÿæ­å»ºä¸€ä¸ªkoaé¡¹ç›®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€å¿«é€Ÿæ­å»ºä¸€ä¸ªkoaé¡¹ç›®"}},[e._v("#")]),e._v(" ä¸€ã€å¿«é€Ÿæ­å»ºä¸€ä¸ªkoaé¡¹ç›®")]),e._v(" "),a("hr"),e._v(" "),a("ol",[a("li",[e._v("æ£€æŸ¥Nodeç‰ˆæœ¬ï¼Œè‡³å°‘åœ¨7.6.0ä»¥ä¸Šã€‚")]),e._v(" "),a("li",[e._v("ä½¿ç”¨å¿«é€Ÿæ­å»ºå·¥å…· "),a("code",[e._v("npm install koa-generator -g")])]),e._v(" "),a("li",[e._v("ç”Ÿæˆé¡¹ç›® "),a("code",[e._v("koa2 project-name")])]),e._v(" "),a("li",[e._v("å®‰è£…ä¾èµ– "),a("code",[e._v("npm install")])]),e._v(" "),a("li",[e._v("è¿è¡Œ "),a("code",[e._v("npm start")]),e._v(" æ‰“å¼€ http://localhost:3000")])]),e._v(" "),a("hr"),e._v(" "),a("hr"),e._v(" "),a("h3",{attrs:{id:"äºŒã€æ‰‹åŠ¨æ­å»ºä¸€ä¸ªkoaé¡¹ç›®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€æ‰‹åŠ¨æ­å»ºä¸€ä¸ªkoaé¡¹ç›®"}},[e._v("#")]),e._v(" äºŒã€æ‰‹åŠ¨æ­å»ºä¸€ä¸ªkoaé¡¹ç›®")]),e._v(" "),a("hr"),e._v(" "),a("ol",[a("li",[e._v("æ£€æŸ¥Nodeç‰ˆæœ¬ï¼Œè‡³å°‘åœ¨7.6.0ä»¥ä¸Šã€‚")]),e._v(" "),a("li",[e._v("åˆ›å»ºå¹¶è¿›å…¥é¡¹ç›®æ–‡ä»¶å¤¹ï¼Œ"),a("code",[e._v("npm init")]),e._v(", åˆå§‹åŒ–packjson.js")]),e._v(" "),a("li",[e._v("å®‰è£…koa"),a("code",[e._v("npm install koa --save")])]),e._v(" "),a("li",[e._v("åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º"),a("code",[e._v("app.js")]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v(" const Koa = require('koa');\n const app = new Koa();  \n app.use(async ctx => {\n ctx.body = 'Hello koa!';\n });    \n app.listen(3000);\n")])])])]),e._v(" "),a("li",[e._v("åœ¨"),a("code",[e._v("package.json")]),e._v("æ·»åŠ å¯åŠ¨å‘½ä»¤"),a("code",[e._v('"start": "node app.js"')])]),e._v(" "),a("li",[a("code",[e._v("npm run start")]),e._v("å¯åŠ¨æœåŠ¡ï¼Œæ‰“å¼€"),a("code",[e._v("http://localhost:3000")]),e._v("ï¼Œè¿™æ ·koaçš„æˆ¿äº§è¯ðŸ å°±æ‹¿åˆ°å•¦ï¼ä¸‹é¢è®©æˆ‘ä»¬æ¥å¼€å§‹æ¬ç –å»ºæˆ¿å­ðŸ’ª")]),e._v(" "),a("li",[e._v("åœ¨é¡¹ç›®ä¸‹åˆ›å»ºä¸€ä¸ªå­˜æ”¾htmlæ–‡ä»¶çš„ç›®å½•viewsï¼Œå¹¶åœ¨è¯¥ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª"),a("code",[e._v("index.html")]),e._v("ï¼Œç„¶åŽä¿®æ”¹"),a("code",[e._v("app.js")]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("// app.js// åŽŸç”Ÿè·¯ç”±\nconst Koa = require('koa');\nconst fs = require('fs');\nconst app = new Koa(); \napp.use(async (ctx, next) => {\nif (ctx.request.path === '/index') {\nctx.type = 'text/html';\nctx.body = fs.createReadStream('./views/index.html');\n} else {\nawait next();\n}\n});\napp.listen(3000);\n")])])])]),e._v(" "),a("li",[e._v("å®‰è£…è·¯ç”±ä¸­é—´ä»¶"),a("code",[e._v("npm install koa-router -S")])]),e._v(" "),a("li",[e._v("æ–°å»º"),a("code",[e._v("routes")]),e._v("ç›®å½•ï¼Œç”¨æ¥å­˜æ”¾è·¯ç”±æ–‡ä»¶ï¼Œå¹¶åœ¨ç›®å½•ä¸‹åˆ›å»º"),a("code",[e._v("index.js")]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("// routes/index.js\n\nconst fs = require('fs');\nconst router = require('koa-router')()\n\nrouter.get('/', async (ctx, next) => {\nctx.type = 'text/html';\nctx.body = fs.createReadStream('./views/index.html');\n});\n\nmodule.exports = router\n")])])]),e._v("è¿™æ ·ç›´æŽ¥è®¿é—®é¡µé¢å‡ºæ¥çš„å°±æ˜¯ðŸ‘‰viewæ–‡ä»¶å¤¹ä¸‹index.htmlçš„å†…å®¹äº†")]),e._v(" "),a("li",[e._v("å®‰è£…koa-staticï¼Œå¹¶æ–°å»ºpublicæ–‡ä»¶å¤¹å­˜æ”¾é™æ€èµ„æºï¼Œè¿è¡Œ"),a("code",[e._v("npm install koa-static -S")]),e._v(",ç„¶åŽåœ¨app.jsé‡Œæ·»åŠ ä»¥ä¸‹ä»£ç "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const static = require('koa-static')// allowedMethods ç”¨äºŽæ ¡éªŒè¯·æ±‚çš„æ–¹æ³•ï¼Œå¦‚æžœç”¨ post è¯·æ±‚è®¿é—® get æŽ¥å£ï¼Œå°±ä¼šç›´æŽ¥è¿”å›žå¤±è´¥     \nconst main = static(_dirname + '/public')// å°† public ç›®å½•è®¾ç½®ä¸ºé™æ€èµ„æºç›®å½•      \napp.use(main)\n")])])])]),e._v(" "),a("li",[e._v("å®‰è£…koa-views "),a("code",[e._v("npm install koa-views -S")]),e._v(",åœ¨app.jsæ·»åŠ ä¸€ä¸‹ä»£ç "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const views = require('koa-views')\napp.use(views(_dirname + '/views')\n")])])])]),e._v(" "),a("li",[e._v("ç„¶åŽåœ¨è·¯ç”±æ–‡ä»¶ä¸­ï¼Œå°±èƒ½ä½¿ç”¨ render æ–¹æ³•äº†"),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("// routes/index.js\n\nconst router = require('koa-router')()\n\nrouter.get('/index', async (ctx, next) => {\nawait ctx.render('index');\n});\n\nmodule.exports = router\n")])])])])])])}),[],!1,null,null,null);t.default=n.exports}}]);