<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>浏览器跨域解决方案 | LIUHZ`sBLOG</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.35bcedcf.css" as="style"><link rel="preload" href="/assets/js/app.22502d27.js" as="script"><link rel="preload" href="/assets/js/2.5fab9c2e.js" as="script"><link rel="preload" href="/assets/js/30.92798214.js" as="script"><link rel="prefetch" href="/assets/js/10.cac06b9b.js"><link rel="prefetch" href="/assets/js/100.4294076b.js"><link rel="prefetch" href="/assets/js/101.ecb54f28.js"><link rel="prefetch" href="/assets/js/102.53ad52f5.js"><link rel="prefetch" href="/assets/js/103.1ae0ad0b.js"><link rel="prefetch" href="/assets/js/104.4fbb8fb5.js"><link rel="prefetch" href="/assets/js/105.ae18adde.js"><link rel="prefetch" href="/assets/js/106.8f4ffc02.js"><link rel="prefetch" href="/assets/js/107.59c0468e.js"><link rel="prefetch" href="/assets/js/108.41ce6e1a.js"><link rel="prefetch" href="/assets/js/109.230d3042.js"><link rel="prefetch" href="/assets/js/11.3a6c9109.js"><link rel="prefetch" href="/assets/js/110.1b996d19.js"><link rel="prefetch" href="/assets/js/111.6d2359a3.js"><link rel="prefetch" href="/assets/js/112.ff1473af.js"><link rel="prefetch" href="/assets/js/113.ee1d1451.js"><link rel="prefetch" href="/assets/js/114.1b1a35f3.js"><link rel="prefetch" href="/assets/js/115.4b1bc6b9.js"><link rel="prefetch" href="/assets/js/116.8aa3ca93.js"><link rel="prefetch" href="/assets/js/12.2f256309.js"><link rel="prefetch" href="/assets/js/13.c732dc41.js"><link rel="prefetch" href="/assets/js/14.4a7ca250.js"><link rel="prefetch" href="/assets/js/15.dda54af7.js"><link rel="prefetch" href="/assets/js/16.caa18830.js"><link rel="prefetch" href="/assets/js/17.7c844d0b.js"><link rel="prefetch" href="/assets/js/18.676f4198.js"><link rel="prefetch" href="/assets/js/19.80074d1b.js"><link rel="prefetch" href="/assets/js/20.8b3467e7.js"><link rel="prefetch" href="/assets/js/21.6fc355b3.js"><link rel="prefetch" href="/assets/js/22.2ca35113.js"><link rel="prefetch" href="/assets/js/23.1ec59514.js"><link rel="prefetch" href="/assets/js/24.2e96ffff.js"><link rel="prefetch" href="/assets/js/25.cbf29080.js"><link rel="prefetch" href="/assets/js/26.c739eb67.js"><link rel="prefetch" href="/assets/js/27.17ab1f3f.js"><link rel="prefetch" href="/assets/js/28.50f7aacd.js"><link rel="prefetch" href="/assets/js/29.aed60c90.js"><link rel="prefetch" href="/assets/js/3.79fea0ee.js"><link rel="prefetch" href="/assets/js/31.1bc442ef.js"><link rel="prefetch" href="/assets/js/32.a94234df.js"><link rel="prefetch" href="/assets/js/33.c5985f8b.js"><link rel="prefetch" href="/assets/js/34.1cfc5325.js"><link rel="prefetch" href="/assets/js/35.28d997ce.js"><link rel="prefetch" href="/assets/js/36.3be2e4b3.js"><link rel="prefetch" href="/assets/js/37.f36b67b8.js"><link rel="prefetch" href="/assets/js/38.5a2f39d5.js"><link rel="prefetch" href="/assets/js/39.95600693.js"><link rel="prefetch" href="/assets/js/4.ae0a3871.js"><link rel="prefetch" href="/assets/js/40.9505c806.js"><link rel="prefetch" href="/assets/js/41.0aa384e7.js"><link rel="prefetch" href="/assets/js/42.b6db49c8.js"><link rel="prefetch" href="/assets/js/43.e88dfba7.js"><link rel="prefetch" href="/assets/js/44.15e853e9.js"><link rel="prefetch" href="/assets/js/45.153873b7.js"><link rel="prefetch" href="/assets/js/46.efdc2bc2.js"><link rel="prefetch" href="/assets/js/47.59d694bd.js"><link rel="prefetch" href="/assets/js/48.cae269d8.js"><link rel="prefetch" href="/assets/js/49.ff354e1f.js"><link rel="prefetch" href="/assets/js/5.fa2700bf.js"><link rel="prefetch" href="/assets/js/50.0a0826ea.js"><link rel="prefetch" href="/assets/js/51.bb79dec0.js"><link rel="prefetch" href="/assets/js/52.cf1d415e.js"><link rel="prefetch" href="/assets/js/53.7d6c03b3.js"><link rel="prefetch" href="/assets/js/54.747d044e.js"><link rel="prefetch" href="/assets/js/55.0345676b.js"><link rel="prefetch" href="/assets/js/56.8b4fa249.js"><link rel="prefetch" href="/assets/js/57.a1545cdf.js"><link rel="prefetch" href="/assets/js/58.0abf2279.js"><link rel="prefetch" href="/assets/js/59.d9db303d.js"><link rel="prefetch" href="/assets/js/6.7a902243.js"><link rel="prefetch" href="/assets/js/60.b6bae914.js"><link rel="prefetch" href="/assets/js/61.7d546069.js"><link rel="prefetch" href="/assets/js/62.6b0e1220.js"><link rel="prefetch" href="/assets/js/63.9b29ba8c.js"><link rel="prefetch" href="/assets/js/64.c8ee4055.js"><link rel="prefetch" href="/assets/js/65.8df5c802.js"><link rel="prefetch" href="/assets/js/66.4ef43f47.js"><link rel="prefetch" href="/assets/js/67.443cafea.js"><link rel="prefetch" href="/assets/js/68.374ce1ec.js"><link rel="prefetch" href="/assets/js/69.51d8ba35.js"><link rel="prefetch" href="/assets/js/7.9632d81f.js"><link rel="prefetch" href="/assets/js/70.3e451f00.js"><link rel="prefetch" href="/assets/js/71.2fbec611.js"><link rel="prefetch" href="/assets/js/72.73417fb9.js"><link rel="prefetch" href="/assets/js/73.c587a33a.js"><link rel="prefetch" href="/assets/js/74.f7be6a90.js"><link rel="prefetch" href="/assets/js/75.3f358d91.js"><link rel="prefetch" href="/assets/js/76.1a779b99.js"><link rel="prefetch" href="/assets/js/77.69830b3a.js"><link rel="prefetch" href="/assets/js/78.884b85ce.js"><link rel="prefetch" href="/assets/js/79.41700743.js"><link rel="prefetch" href="/assets/js/8.e99fa763.js"><link rel="prefetch" href="/assets/js/80.1e012ce5.js"><link rel="prefetch" href="/assets/js/81.55379fe9.js"><link rel="prefetch" href="/assets/js/82.d4678323.js"><link rel="prefetch" href="/assets/js/83.84ad96af.js"><link rel="prefetch" href="/assets/js/84.2a70e8e8.js"><link rel="prefetch" href="/assets/js/85.24ee9bc6.js"><link rel="prefetch" href="/assets/js/86.d30516fd.js"><link rel="prefetch" href="/assets/js/87.f0928dbd.js"><link rel="prefetch" href="/assets/js/88.593b77fa.js"><link rel="prefetch" href="/assets/js/89.4f48f55d.js"><link rel="prefetch" href="/assets/js/9.8b9ea0c9.js"><link rel="prefetch" href="/assets/js/90.9340f592.js"><link rel="prefetch" href="/assets/js/91.a7e13279.js"><link rel="prefetch" href="/assets/js/92.3cbdd342.js"><link rel="prefetch" href="/assets/js/93.9d67dfb9.js"><link rel="prefetch" href="/assets/js/94.a7b2eb7b.js"><link rel="prefetch" href="/assets/js/95.7c1d0bcd.js"><link rel="prefetch" href="/assets/js/96.bcec1c2c.js"><link rel="prefetch" href="/assets/js/97.03430115.js"><link rel="prefetch" href="/assets/js/98.9a176151.js"><link rel="prefetch" href="/assets/js/99.7155a121.js">
    <link rel="stylesheet" href="/assets/css/0.styles.35bcedcf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">LIUHZ`sBLOG</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/question/guild.html" class="nav-link">
  归档
</a></div><div class="nav-item"><a href="/专题/guild.html" class="nav-link">
  专题
</a></div><div class="nav-item"><a href="/tools/markdown-editor.html" class="nav-link">
  Tool
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Libraly" class="dropdown-title"><span class="title">Libraly</span> <span class="arrow down"></span></button> <button type="button" aria-label="Libraly" class="mobile-dropdown-title"><span class="title">Libraly</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://www.alloyteam.com/page/0/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  腾讯前端团队
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://fed.taobao.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  淘宝前端团队
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.webfx.com/tools/emoji-cheat-sheet/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Emoji
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://tool.oschina.net/commons" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线工具
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://hao.shejidaren.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  设计导航
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.keybr.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Typing
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="About Me" class="dropdown-title"><span class="title">About Me</span> <span class="arrow down"></span></button> <button type="button" aria-label="About Me" class="mobile-dropdown-title"><span class="title">About Me</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/banana6hz" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub地址
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/question/guild.html" class="nav-link">
  归档
</a></div><div class="nav-item"><a href="/专题/guild.html" class="nav-link">
  专题
</a></div><div class="nav-item"><a href="/tools/markdown-editor.html" class="nav-link">
  Tool
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Libraly" class="dropdown-title"><span class="title">Libraly</span> <span class="arrow down"></span></button> <button type="button" aria-label="Libraly" class="mobile-dropdown-title"><span class="title">Libraly</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://www.alloyteam.com/page/0/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  腾讯前端团队
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://fed.taobao.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  淘宝前端团队
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.webfx.com/tools/emoji-cheat-sheet/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Emoji
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://tool.oschina.net/commons" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线工具
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://hao.shejidaren.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  设计导航
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.keybr.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Typing
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="About Me" class="dropdown-title"><span class="title">About Me</span> <span class="arrow down"></span></button> <button type="button" aria-label="About Me" class="mobile-dropdown-title"><span class="title">About Me</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/banana6hz" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub地址
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/question/guild.html" class="sidebar-link">归档</a></li><li><a href="/question/html/basic.html" class="sidebar-link">HTML</a></li><li><a href="/question/css/css01.html" class="sidebar-link">CSS</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/question/es6/es6_01.html" class="sidebar-link">ES6</a></li><li><a href="/question/jquery/jq01.html" class="sidebar-link">jquery</a></li><li><a href="/question/webpack/webpack01.html" class="sidebar-link">webpack</a></li><li><a href="/question/js/js02.html" class="sidebar-link">下面代码输出什么？</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>计算机网络</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/question/net/url.html" class="sidebar-link">输入URL到页面渲染出来，浏览器经历了什么？</a></li><li><a href="/question/net/kuayu.html" aria-current="page" class="active sidebar-link">浏览器跨域</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/question/net/kuayu.html#浏览器跨域解决方案" class="sidebar-link">浏览器跨域解决方案</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/question/net/kuayu.html#什么是跨域" class="sidebar-link">什么是跨域</a></li><li class="sidebar-sub-header"><a href="/question/net/kuayu.html#跨域的时候浏览器为啥会报错" class="sidebar-link">跨域的时候浏览器为啥会报错</a></li><li class="sidebar-sub-header"><a href="/question/net/kuayu.html#跨域会导致什么情况" class="sidebar-link">跨域会导致什么情况</a></li><li class="sidebar-sub-header"><a href="/question/net/kuayu.html#🤜-解决方法-jsonp" class="sidebar-link">🤜 解决方法——JSONP</a></li><li class="sidebar-sub-header"><a href="/question/net/kuayu.html#🤜-解决方法-cors-跨域资源共享" class="sidebar-link">🤜 解决方法——CORS(跨域资源共享)</a></li><li class="sidebar-sub-header"><a href="/question/net/kuayu.html#🤜-解决方法-document-domain" class="sidebar-link">🤜 解决方法——document.domain</a></li><li class="sidebar-sub-header"><a href="/question/net/kuayu.html#🤜-解决方法-postmessage" class="sidebar-link">🤜 解决方法——postMessage</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="浏览器跨域解决方案"><a href="#浏览器跨域解决方案" class="header-anchor">#</a> 浏览器跨域解决方案</h2> <h3 id="什么是跨域"><a href="#什么是跨域" class="header-anchor">#</a> 什么是跨域</h3> <p>当一个请求url的：<strong>协议</strong>、<strong>域名</strong>、<strong>端口</strong>三者之间任意一个与当前地址不同的时候，就是跨域</p> <table><thead><tr><th style="text-align:center;">URL (http://www.a.com/a.html)</th> <th style="text-align:center;">说明</th> <th style="text-align:center;">是否允许通信</th></tr></thead> <tbody><tr><td style="text-align:center;">http://www.a.com/b.js</td> <td style="text-align:center;">同一域名下</td> <td style="text-align:center;">允许</td></tr> <tr><td style="text-align:center;">http://www.a.com/script/b.js</td> <td style="text-align:center;">同一域名下不同文件夹</td> <td style="text-align:center;">允许</td></tr> <tr><td style="text-align:center;">http://www.a.com:8000/b.js</td> <td style="text-align:center;">同一域名，不同端口</td> <td style="text-align:center;">不允许</td></tr> <tr><td style="text-align:center;">https://www.a.com/b.js</td> <td style="text-align:center;">同一域名，不同协议</td> <td style="text-align:center;">不允许</td></tr> <tr><td style="text-align:center;">http://70.32.92.74/b.js</td> <td style="text-align:center;">域名和域名对应ip</td> <td style="text-align:center;">不允许</td></tr> <tr><td style="text-align:center;">http://script.a.com/b.js</td> <td style="text-align:center;">主域相同，子域不同</td> <td style="text-align:center;">不允许（cookie这种情况下也不允许访问）</td></tr> <tr><td style="text-align:center;">http://a.com/b.js</td> <td style="text-align:center;">同一域名，不同二级域名（同上）</td> <td style="text-align:center;">不允许（cookie这种情况下也不允许访问）</td></tr> <tr><td style="text-align:center;">http://www.a.com/b.js</td> <td style="text-align:center;">不同域名</td> <td style="text-align:center;">不允许</td></tr></tbody></table> <h3 id="跨域的时候浏览器为啥会报错"><a href="#跨域的时候浏览器为啥会报错" class="header-anchor">#</a> 跨域的时候浏览器为啥会报错</h3> <p>为了保护用户安全上网，避免浏览器受到XSS（跨站脚本攻击）、CSRF（跨站点请求伪造）等攻击。 基于浏览器的<strong>同源策略</strong>限制：协议、域名、端口号三者相同即为同源。浏览器会拒绝跨域请求。<br>
出现跨域问题，一般会这么报错：<br> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABU4AAABICAMAAAAeep9wAAABs1BMVEX////6+vr+9vb98vL/8PD/7+/+7Oz96er/5+f46en85ub85OX74+Lx4+P/3d373d/w4uL629372tv/19f42dj/1NT71df609Xo29v20NL4zs7/ysr/ycng1NT5yMrf09PzxsT/v7/1wMTYzc34vcD4u77/tbXvurjuurjytrz3tLfPxcXws7j/qqrHvb3/oKD1oKO/tbXtn6e8s7P/lJS3rq61ra3ol5TrkJn/iIjpkJTpj5Tkj4ytpaX/fX2jo6PqhITiiITyfoPof4jxe4GjnJz/cHDoeHjjeHnjeHialJSXkZHwanD/Y2OUj4/vZWvkZmuQiorkZWvvX2bnYWrvXmT/VVXuW2HkXmfuV17ZYVzoV2GGgYHgWl3tUlngV1ftTlb/Rkb/RETtSlF9enrsSFDpSVLgTk7qR057d3fgS1B6dnbpRU7iSEt4dXXVTUjsQUngR0nfR0vpQknfRkvqQEjqP0fkQkbrPkbrPkXrPUXqPUXpPUbrPET/NDTpPEPmPUL/MzPpO0PrOkLrOUHmOkDoOT/pOD9vbGxubGzaLS3/HR1hYGDYIyNXVlZUVFT/AABbLiLQAAAafElEQVR42u1di7tjSVFf9OySAIbwEAQjYVk4CoeZdbBpvMoMIEyjx11xBMIrgHeVx4DoIgLDwAaGHSFDgsmf7NfV1dXVj5PXfeTOTtW3307fk6S7T3XV71RV96l66nWv+0SV0jOf/b2nzz5TCV009Sbmyb35wUyxf4TOSv+4etzo333jPx+XGX+0i/lPleC0qt79ye/87ve/+84n3y3iKXB6wTQ6HVRVpYzIwbnQcL5qk0vj5Wq1Wo43/qy1MNFe6Lz0LnN3c9Dzobui7bSm/V0G0B7smqg//veFUwecCgkJCQkJnAoJCQkdCU7fJiQkJCR0VhLrVEhISEicfSEhISGBUyEhISGBUyEhISEhgVMhISEhgVMhISGhxwlO3/TeT331v776qfe+SVgjJCQkdDicPv32j33zp7/631/99Jsfe/vTwhwhISGhQ+H0DR//wW/uv/rw1fu/+cHH3yDMERISEjoUTv/8h7/92TdeefjKN3722x/+xeYfjhaTHiQCWq/z5BW9yW7pgXqT9Rq66SDFPuxPD07Q0FBChd2SKUBGiMMSJ2wdodTxcM6uNVtyVexDUcePDW3kwHi58xpuWYiOUZrVSgsubCezXq/rSq3Xi5G/UPPPa3/9Emk495pe0v4ibYIVvTVxzGY4/fsf3fvMOz73r597x2fu/egfYtRLcQ/h1LJxK5yqDZCpDoDTPeGxP9U7okvg/IFwuh2/Sh1Ht1EAk4NRUU/7/alLs9O6/Dowks0w1KK8AHY0Pm+PptRD2qfiaVOZsrmHgE/Un28AQjW2RxohGqopNuyvoT/fMXGgbTETEVzR8G2CU9+wN7gcO/EYzu01vOK+33YpU9upKa6X8yLPY0jr5KaEHMV5FpnddmnyaLFer2eD85vfrqZPqpp+DqMH2+D0wBH2g4pzgNPCF8ePxjuM0AWnX//5/a984D1/+Z4PfOX+z7++K8evPJyO7+LXm21f38z5XQyrQxSxP22qC4FT7BgfJ8N5W/Wn0341Xmr4A253vGxcA65UPjmaXo6rxqq4hSOdTamd9kN/1Gi/r6vq9iMdRqAG9Zc1YHat55ttlOEUJspubXoHHw1tVfVv9kE8oJtwZT48zNaPhzqjRHgek2bSLdrb62B2mesevXqTrcBy0XAafkVwmtAx4PQApd4PTtv57T3g9L9//fDlL771D976xZcf/vp/XjNw2raJlXphcLp9hO2jniOcYsc4K9Bcq9kAOn4YYCt80UOaFSGXnLKd9gEJcofI/oD6Cx3fvNMftnd0GME3qL+8Ed90wyGQw2mSLlPjINSDnaPLkknQPF62uyTZLBk55+vuA/+8Zrp/Wx2QO2d2B9cJvdQ5mqcCp7vDadOGTKw7wOn3fvnw5Rfe/IdvfuHlh7/8Xol3NlRq2cRDpginar1eK99YqzjIAnEWFzRQRR5ZHwb4bxsgLODVxHDagk+JaWK1y3hrvaTh/PrU+ZSQL1bHMbbh3TGzUp0RZq2m2H1dLcfUMQVNdNuu7H/OMUOflHtxdjrT6+SYuRHu3lgubyyXY1gph2UafxyiMdb3wyaoVjNvluDxNcsbrgEuONg2K++LN8kc+lPdosPdOn+x1Qx/UWcRTlt3Gxr+HM4x6EBwSiyxcARi1Kzmw8bNetpvVm1wg50piP2xjq/fGTe6bWkEalB/eSOCU5wNsoLDqXsmUn5hD5v0pOlPWyf77NmjkenQecsevZRPmYZy8Q6Mmlo0a6Y3V/Y/jIC0KFFg8saSEzz5lkUutsCpbgOcFpjtG1Zn4hikRa/BzKCCgH6AptRWla6hElmVM6C3Br9j1qzBnHKryBg9IBUMqon9jR6MjFNcVPLaqbQb3cEpBVFdZHA2qBfPL+xQbAR2D9gf3QOCBiRSd3BDE8WpBxjpRkbUhbCqgAfuaQ+f9achbNQFK0Hp2aIRmuwDp//8k3uff+f7/+797/z8vZ/8SwFOe2ZQVcZxxsRwah+YUKDCNsrWKfBqtFAFOB0trDgsRtXA9Jwv465EcLrSqCupdTqcrzQIJrMOGQPIkQyJviOzVpNFFJ5PKPQr3axae9UqY8xJH3sDqUddRf2f/8l0+dxUBzhlzz1coCbsd7grDYT77Ezs8mtyCOfDgBDhSswT9JbBUmRS4GXBccX+f7y8OW1tb83qxjxAh8OShiEQ3PL8xnIM0dfpTeexgkcPGAKSif2xRqP17XEbRqAG9Zc3AjRix4EVrZfwZnmHFqyN4JTMh/506rjEDIr+FHVKFyx8BDEcKliJlgUW01fteDl97tG4ajQ+fu3ncShWA+/cLzF4q508aZ4Y3jn7Swe4Dlu9dMKKZ8wOXM/hdLH2SFRXlZn0qsEMIUZZzLJX3FVjkU2hUtJGh1etTLlJBYNq+v5Gi7UCa5OUvGSdYsP+wH6vtr+GcTPrlPqje/CgEeDU5Biwg3Xq9NqpEASwNAu3gMC01jJoqg2wEpT+rHD6N9+998KHvvRvX/rQC/e++7fpVpSHz7oEp25N1aQHjTKcOvM/YYr700Rst9eg18zZd8iQw6l2eob6vnEjyv4TRyvbtkpx2sMpWAzNfAidRJY/xdcYPLtOhnNrAPYjOA0L6DrhjhyKgAUWgB9nNQ3dV6BLnDm7kvIEPcjWdtbMhy5arMkPRjhtoVdry3tnG+3NZj4M3drJ2uc7GIXW9kZ3vmFxI21tb+yPNZrx9+/0dRiBGtRf3nAS3ISOAyuCdcoKXHTCKYIXWyV4zCIjMk/OwSlxHcIdbbQe40fj+Ik0fnSzHImBr2lwVfo5coetLQjrwsYdPh7gqZozm3G94Oyj9WYiW9XvDo0ejBxc1rNBACcPkw7yovCc1zqTIZ/vz5lAg1lNSr4BTuED2wRtB6wowKnrj+6BQINmHCYaEH53OEUVcn/C06r1K96f3o5COTmskNKXtqL2gtN3ffnH97/1ysNXvnX/x19+V8nZV8FuT+EUzX/gQwecwg+TuA/CqfHWq3HduB72g1MwmbLKMlmgVaMztYt1SpzNrFNiNINTD6oZnIL510RwqpPAKCq2ZnCqE8uKXcngdInb9818ePtR0yR+sHP2rerCtFZNgH70jobMYG9t8A5t1Ma5u854XI75M8r3R43hHLx7Pf0jPwINRf3ljQhNoT9iBXP2n6PnTwKny+DsuzVk+0jt/La/lEe1OZxqbp02CZy6gkM6hn0WNODWqU6rFSUHBUiEXBymwUhBymzO9ULsFBTJOb888ubgb1E7KKoXI+Y6oy8Otm18tJHg1KRVy3x/ZM6Sku9knW6C05rHARcjAo0Ap2GiFEbYH05BVhryc1AY2uqS4PSZD3/hF68+fPjw1V984cPPFOA0sKhsnfrGRjgtWqcGh4ElPNg6Ra+vv3Ejavxo3Or0KItDig1wmkZOC3BKO+g5nFZkoWZwimMWrFOdWad6s3UK0ds/a6+3uuU3E21FPfL7Qy6KgEaSdYzujsPXiaO4KQLx3+l14oCdBPXnGzgzPe3TCC3Zvthf3ohBijgQW6dsKyqGUzLzaSsqGP7NisITba4XsXUKwKjjHUEHp5HcNVE39KwDxG15YCnganTsim/3UcQnZzbjenlnv05MTLBQyTp1cMqtU9A0613n+0YJnJat0zrodudWlIdTNLh2glOTgEZindJMSn7t3tYprtn16WVZp0+/8X2f/tq3/+PbX/v0+974dAecDmbF2ClGVIEhELPJN/lgzePAjedRDaF0G2yZDdyRVvhjXYZTMkDQV3QhEm87aTxA4ySXGMLOlD7Ck1Mu2M/wKVg2CZwytuL2Ce1JBDjFEQhOrfJAaIZbodgTQYhXGhcX9SHThk7McMwIV1Ke0DNkePem7re3NdfG6KAUnV7STNOjnX0YhZzu1u/h00Z9hac5qT/fQEDWdosaR6AG9VdocGOu9Z6CHSo5KKULcFrBFhkdlIKJ4hV3FszZf3dvt3zxYjilocIUUjjV7jBt4oC7qLV1y4M3rzcdYm0omKp5/DxnNjWKW1EYm6yT4zUuAGnc3oMNccZw2nXEyqCx41UwglPc7/DwRx93win9yUwvkwxK/fl7sNNyoGGwEU+U7O094bSBE2iwIRGcGNRy1MwcVkpweljstKpe/5YPfuSvP/LBt7y+eCrCBlEXz58OcGtvxhrOcFfOI6hN/DzCXTpwFuo0rg6mfI292K/MnresNOu1qctwSkejcT+b9u+oERiQbERFMq9xI3DFvDnbwKPvmnFWkxNHGtnizj7BKY4Q4NROR7cabRVdhY7doHbV/YI1vjAvyYI/OlDRviS7kvLE9dw4lAeACk8AD6y0LW6709yEatzmp/b3xN8Iaf2ZBO0OMcNI8TY7NvyTAnbF6IBF4CwdWY8azpde4QsHbRU2bbJj/BqXCvTDe294RAKB3e/i2tguvhsAht5yXIZTz3U3C2fKxnAK32lbjTA95dFTy8Cb04ad+4C5c40LPPYfaHaKPz3w0fofU6MIp2CY1Oh40xEYOlLjT9CwjR2/Ke62QSKLBlRuEFSQbUXxXa/gnbOtKNcdwB823K/WNYdTP0IGp3QP9hvXJogeyig2URMmbDbv7LvQi380eRWaPnd3SC+qOAHRqIu6CCtsw4S0FdEEY2rNznD6WNKGc4JkejL7MrHg3UNp83lv9+nmJ1PuGOxCHuXP893S5PEh1Lmk0QGtw8+bxnGHY9F5nkY9uD/cbz7gp+d1PPWY9PjA6f+thISeLPqnxxROD3pt66xw+leXty4ffVKt05JHkH5Zr1bZeYDM/vBe4YUaS7veLq7qeb5a/kRROPDtuU4H+3eSIEqDEK3IsdPNXAk4dc65OeCHYp0KCQkJCQmcCgkJCQmcCgkJCQmcCgkJCQmcCgkJCQmdA5zWO+/zqU1nba8y1Z3HhF0anSJ15XvcRuYIxR/8zXRuvRIH6s0npru7TqUkVG3oEI8NrN1N7tT66DvCl1TIoz7nrfvdqbSKal/JJrljAjhamH2Xc0dm1wceMLhycOpfHTve6m9R+Xrvzw6CU4ctXW8a+0w5vclZnj7wnlp5Aptecc5Sftf+fd44+cJWWE6WeBc4ra82nG6/75zH5w+nxcW7JIWiJKQHwqnq5kbyZnoV0mHt0PFezE5fZt9Tqw4UqQuBU7xfgdOX1AY4Re6MTm+ZM0i+fY3wpHdmODW3Tkd7wimkWTP7r3GiDmeG00sUjycCTu3j7kzlUzacVy3AqboYZquz1H8ROL2ScHryYm8rnCpzaLigkFziUDgdnI7w0u5wmqcgEjh9DcCpW9G9uCBwuh+cQu6SqABCWlmB1VEgo32dVDkZzK5NXDzD10hxHSveiFwOSqAA/iE1qI5KVLIhSfyHV/yMfaUGTKRoU0dQiQVDYZZMivDng9kJm7oTF0Xd2IuQsTcO1gxmtanduprOQE5vUuPi+RlHU4+qV4RGpvo+6wXxmGpBDGa1coOz6hUpnNaTHupqBqc4dZfUhvEHFcFAxnCFxTT8KtS49j5KlosHf+ggaynFRSwelBlnwMti8BBZTSvOFTmImzGjRdRNLHcuJJOKB8OArFQI+wDTfbhCHoUASKGQB+YsibORRgLNCnlwnmyrEELiQTOmFCieA0EIuvKJOC/Z/pRGCLFOgymLapqV53EB+2vHk+6snh0RzyB3OzI7FnHMqIK5lbzmqckfz9yNqwRpwj2QsmflWM4VTkFzakidhwUQssoKoY5C98N0MFsr+CXVSGGpqtLHAatykkatQx0Vz+78UeTD4TRjSPYHxpyfMpVY8LUgCnBaI+MBLx1wYv2WMMKDkf9WDqe1cclbwwiZ9J5iCQgK4EdTj6pX5GDv7VqqG+MmuqgDUwaztQlJgDGulUqzUb7zdDA/dWUSUxw/hwIMOEJUq8YLAxqxuXgEqXCspXoWJB4kd8R1WrPcnMxMNxK3yqxd7s+8+A5dycUj8gDiUiG5weQLeQTxYM/jpJCHL9nBcuVnAk0t/wNixYaOaeZhxiGjFGY/9aJaqHISy5QxEbNDBSPKtlnT4hXDlI4nUR7pHeCUy1WXdZoxOxZx57Hhl0nz1Bo1PRRoiQQwUpCLtU5hajUWjoGxssoKcWrFLjhVjJE1iDUyrSNW46EocmxDiQWKeWfB75Ch0c+Y8lIzOHUlFqgWRA5YlJwcpm4/pB5ohNFi3bmTWfdeHKlJj4+Q3aKpglJUWW7dqHoFawTLmDnQAG2Kc8j/CNaMZVE3wdiAfO6nI3+vCZzS1BXYrxb8wQYyEZyGtcf0tfC8MRxOTZeQ0ozjwhu1rzREDcd1lS2Sh9PU1griZnDtqRsSN7qSi0csSlky5tz/jCYaR5h5IQ9KjE79FQSaKlJ6nhArNnTsxaMwY88BEuhClZMCnAZmY1JjU8WPXSZuxZhOfTic5krVyewg4oZugNWgc1/GX0W6EQtgUJCLhVOYJcCpV42sssIecGrFxhvT5B4GPzEy7n1a/jjcQv5YqHuQ7G8TztCMS3Bas+/W6F3WxRhKgFPvcrCsuScde5HwfaWw4Es55tNzSR5VltS8VL0iO+IU8vD6ujElOFUJK3Jphp+r+IGCcOqnXs8Gtx7ULAGtd/ZN9KzvtE53gFOqZ+HFg+QucL1gCPkZp2e7grj5B7GKaupSilB7ZQOcFkqFdGt4Vm4zK+RBZXsYnBYEOhT4BZ4QK7o7JvEozNiQ2aJCEKscgPLOvoqY3WmdXhScZiq9gdlBxIkVXhBJ87zLwJidwekWST1/69TvPmSVFfayTjmDuyzUuMpJlVZCyE9lRI+zFE7VdjgtW6eqZJ1WSRLyunzUCR6ck1sEpyXrlGJ1BTjNqldU6ckSMjaobsx2OFUFaWaxujKcWrv0T801o0zykLW9l+A0xKf2tE4z84MaVcfxF7ZmdRxYJuuU26KBdxO2T7gVTvewTjv8pEiOc+s0FujIOuUquKFjLx6FGedw2rn96b7CS0QxOF0Txl04nOYWaiezYxGPBJE0L8Bp3SWAQUEuFk5rCD77ggrFygolWUtl38V/FqOoRkpXBJSqnFC0J4R9koh8QUB6E/xOVDXFF2E00fSoFkSB2f7IOTOhVDKCHVf5s+8mEwzzklWcMELRgQFLgh4vfOrde6IhWts76VHdGCbfZEaoKmZFJs3u+44vCZzS1AenJ6pnbqn0oFRyZ6z0V7UnnNLjlMSD5I64vgVOo+UjcSMwiYuSK4geqhROo+pznANFi8HxmDQ8LXteKOQRRfKxokcu0LUvWs94UpdT2hd00S+KYTVDYoFmtkudbLq4g1JJHaK4INxecGq7qdeHwGmC+Z3MjkWcC2JgBQW0TR5jx3tgCmIOPBew286+Wq8nz57yAghpZYWivqh0Z5+5+FAjJdq5jVc1VDnJ97V9iQXDtz8TC9FvDPoZB33x238kLX5XHI00k+40LkZMbGASjuUsfmng9yU4hUcCjdBxIsPJfnpMIateQY3s5AGdeuDybWJPiFhRpxuXaDqo2YA4QI1QKAPcq7Q0jbPnIg+S9kbhWeiG2gVOqZ4FiUeQO8/1HE5NFCFQpeMoQTl8N+EjfyUXD7ZGaamQZHheyCOIR2ZT+OWEsj0K95+hkEcu0LTxTjU+iBXdHZN4kLjRCIaBpxOYUOUkhVN6n4gBdlTKSAWu7wKnduqzulwRKY8rRgJYVzsxOxbxNd+KIlaE/UGTHTjy9xDKuxTeUDnnc6fncaLv8c8PK7TTsT1zBZb7SovbmY5FHotwY+dob0dffRI4FbogOK2PnLpB4PRi4NRczbdzBE6FXqMEXtixjRiB0/OfdfaKg9DR4FRISEhI4FRISEhISOBUSEhISOBUSEhISOBUSEhISOC0k+jN+g31MZIfXODu6iVu3XYMdbUyup4lR6WQkNDlW6d0wsMcC07dOxXrxehqwSm964xJFtaKJureQFFbGHpmnpXh1E1HVdFDcLSQw4NCQgKnFctXciXhlAOb+wK+AW2OBKfhZcSQbPolgVMhIYHTxxVOu2o+XBqc8lQ9k2sCp0JCx4FTqjaRwymmDXCZ21xuce9bZkkpIPtAuZAH5RzoLORRgtOsLAbDEJUUI/H9+TIWNHVWtELx9CZxfyfFuix7wWlWMSMqY4Edh8oKIStHzgqq80JVU0xaDSOD04D9o0VdC5wKCR0FTqnaRA6nLgHabFDjDlXNKjXwKhIOimv0OLNCHqxOwS6V3zycpmUxONyYkLAu6litsayAn3ooWkEYU+rPDZUX3ghwWkgaGjn7qmiT+tQ3xGPPM4LTnBUUOKDaDVTcojR1TE08OfGIayqBUyGhIzr7dQlOKUemTTD8YDQ4HVHqYsy5pgq+Z17II65TUBULcJed/bwsRsUreuQdKyzhRlMPidd8cLHUn0pAMsvnu9E6zV5hz8pYhK8X4DQr40wJPLF2A8y4zAo3fSiB4NPN2hxpAqdCQseBUxXyE6Zw6tIqqtGDkXpJjU4HVDwAFDuGU5cPsy6kfFaRz1ss5LEJTrNKDRTrzDt2cLqoaeosjyXWx+joD0AyK7yxs7OfsTQqY8ELviRwmrPCRBV/XOmRLlZU3onA5MjKpXYUOBUSOgqc8vIEZTitB6fPmvrFa2iUkrcewWlexiKu3RCZlhst1KJ1GptjqqvjYJ2q1DqtcPu7oz/I2J0V3jgQTtMyFoHHOZxmrEjgNLNO86G8QTqY+fNbkhlISOhYcOqLkSSxU4XFI3qTk1vVrRMT0iFaDHGVFSJMMpBuPS3kEQcW4xIIcSclOM3roLIE8WnHLqRr+NRNVBWqsz8Pp3HhjcPhNCpjwXhsAsCqdfEgha/zEkqPzLAmdLkkLHCBahDz0I2AqpDQ5cIpVZug6hWhPIHfmjdwlVdqsC5qbVQSMziZ1FWhkEeoXpEV8tgOp6xSQwqnecfhvIFK67LQR+X+HNJmhTcOgtOsjEXomA4j2PMG13jRiiRsUrPaDbY89bOTEit8+ZO4YoPAqZDQkWKnryVSEjUUEhISOBU4FRISEjgVOBUSEhI4FRISEhISOBUSEhK6PDh9m5CQkJDQWcnC6VNCQkJCQmcmgVMhISEhgVMhISGhK0P/Dx37u8px9xmhAAAAAElFTkSuQmCC" alt="跨域报错"></p> <h3 id="跨域会导致什么情况"><a href="#跨域会导致什么情况" class="header-anchor">#</a> 跨域会导致什么情况</h3> <ul><li>Cookie、LocalStorage 和 IndexDB 无法读取（操作）</li> <li>DOM 和 JS 对象无法获取（操作）</li> <li>Ajax请求发送不出去</li></ul> <h3 id="🤜-解决方法-jsonp"><a href="#🤜-解决方法-jsonp" class="header-anchor">#</a> 🤜 解决方法——JSONP</h3> <p>像img、script等带有src属性的标签是没有跨域限制的，所以我们可以动态创建script标签，通过src属性来进行跨域请求的来源,再用一个回调函数处理数据，<u>但只能用于GET</u>。</p> <ul><li>使用script标签发送请求</li> <li>在src给服务器传递一个callback</li> <li>callback 的值对应到页面一定要定义一个全局函数（为什么是全局？因为服务端接收到callback函数后会返回页面中的script中去找，如果不写在全局作用域中根本找不到）</li> <li>服务端返回的是一个<u>函数的调用</u>。调用的时候会吧数据作为参数包在这个函数里面。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//动态创建script</span>
<span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">&quot;http://banana6hz.com/jsonp?callback=showData&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
script<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'src'</span><span class="token punctuation">,</span> url<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//向头部输入一个脚本，该脚本发起一个跨域请求</span>
document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'head'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
  <span class="token comment">//回调函数</span>
  <span class="token keyword">function</span> <span class="token function">showDate</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>再来看看jQuery如何实现jsonp调用</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
<span class="token function">jQuery</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
  $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">&quot;get&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">async</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">dataType</span><span class="token operator">:</span><span class="token string">&quot;jsonp&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">jsonp</span><span class="token operator">:</span><span class="token string">&quot;callback&quot;</span><span class="token punctuation">,</span><span class="token comment">//传递给请求处理程序或页面的，用以获得jsonp回调函数名的参数名(一般默认为:callback)</span>
  <span class="token literal-property property">jsonCallback</span><span class="token operator">:</span><span class="token string">&quot;showDate&quot;</span><span class="token punctuation">,</span><span class="token comment">//自定义的jsonp回调函数名</span>
  <span class="token function-variable function">success</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">json</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//对请求到的数据进行处理</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>jsonp<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">error</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h3 id="🤜-解决方法-cors-跨域资源共享"><a href="#🤜-解决方法-cors-跨域资源共享" class="header-anchor">#</a> 🤜 解决方法——CORS(跨域资源共享)</h3> <p>W3C推出的了一个标准----&quot;跨域资源共享&quot;（Cross-origin resource sharing），简称CORS。该标准定义了跨域访问资源时服务器和浏览器怎么通信。</p> <p><strong>实现原理</strong>：浏览器一旦发现跨越请求，就会自动添加一些头信息和服务器进行沟通，来确定跨域请求通不通过。</p> <p>现在除IE10以下的浏览器都支持这个标准。</p> <p>服务器设置Access-Control-Allow-Origin就可以开启CORS。该属性表示那些域名可以访问资源。如果设置通配符则表示所有网站都可以访问资源。</p> <p>浏览器会把跨域请求分成两类：简单和非简单请求。</p> <ul><li><p>简单请求</p> <ul><li>请求方法为：<u>post、get、head</u></li> <li>Content-Type的值仅限为以下三种之一:<code>text/plain</code> <code>multipart/form-data</code> <code>application/x-www-form-urlencoded</code></li></ul></li> <li><p>复杂请求：除简单请求以外的其他请求</p></li></ul> <p><strong>实现方法</strong></p> <ul><li><p>简单请求</p> <ul><li>浏览器发出CORS请求，在头信息添加Origin字段，字段说明本次请求来自哪个源（协议+端口+域名）</li> <li>服务器判断Origin指定的源在不在许可范围内。
<ul><li>如果在，服务器返回的响应，会多出几个头部信息。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin<span class="token operator">:</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>banana<span class="token punctuation">.</span>com 
<span class="token comment">//值为Orign字段的值，或者*,表示接受任何域名的请求</span>
Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Credentials<span class="token operator">:</span> <span class="token boolean">true</span> 
<span class="token comment">//布尔值，表示是否允许浏览器发送cookie给服务器</span>
Access<span class="token operator">-</span>Control<span class="token operator">-</span>Expose<span class="token operator">-</span>Headers<span class="token operator">:</span> FooBar 
<span class="token comment">//表示可以通过getResponseHeader('FooBar')获FooBar字段的值</span>
Content<span class="token operator">-</span>Type<span class="token operator">:</span> text<span class="token operator">/</span>html<span class="token punctuation">;</span> charset<span class="token operator">=</span>utf<span class="token operator">-</span><span class="token number">8</span>
</code></pre></div><ul><li>如果不在，服务前返回一个正常的HTTP响应，浏览器发现回应的头部信息里没有Access-Control-Allow-Orign字段，抛出错误。</li></ul></li></ul></li> <li><p>复杂请求：复杂请求的CORS请求，会在正式通信之前，增加一次HTTP查询请求，称为&quot;预检&quot;请求。</p> <ul><li>浏览器先询问服务器，当前网页所在的域名是否在服务器的许可名单之中，以及可以使用哪些HTTP动词和头信息字段。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//浏览器js脚本</span>
 <span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">'http://banana.com/cors'</span><span class="token punctuation">;</span>
 <span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'PUT'</span><span class="token punctuation">,</span> url<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">'X-Custom-Header'</span><span class="token punctuation">,</span> <span class="token string">'value'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token comment">//浏览器发出预检请求</span>
 <span class="token constant">OPTIONS</span> <span class="token operator">/</span>cors <span class="token constant">HTTP</span><span class="token operator">/</span><span class="token number">1.1</span> <span class="token comment">//Option表示这个请求是用来询问的</span>
 <span class="token literal-property property">Origin</span><span class="token operator">:</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>banana<span class="token punctuation">.</span>com
 Access<span class="token operator">-</span>Control<span class="token operator">-</span>Request<span class="token operator">-</span>Method<span class="token operator">:</span> <span class="token constant">PUT</span>
 Access<span class="token operator">-</span>Control<span class="token operator">-</span>Request<span class="token operator">-</span>Headers<span class="token operator">:</span> <span class="token constant">X</span><span class="token operator">-</span>Custom<span class="token operator">-</span>Header
 <span class="token literal-property property">Host</span><span class="token operator">:</span> banana<span class="token punctuation">.</span>com
 Accept<span class="token operator">-</span>Language<span class="token operator">:</span> en<span class="token operator">-</span><span class="token constant">US</span>
 <span class="token literal-property property">Connection</span><span class="token operator">:</span> keep<span class="token operator">-</span>alive
 User<span class="token operator">-</span>Agent<span class="token operator">:</span> Mozilla<span class="token operator">/</span><span class="token number">5.0</span><span class="token operator">...</span>
</code></pre></div><ul><li>肯定答复，浏览器发出正式的XMLHttpRequest请求</li> <li>拒绝，报错</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>XMLHttpRequest cannot load http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>banana<span class="token punctuation">.</span>com<span class="token punctuation">.</span>
Origin http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>banana<span class="token punctuation">.</span>com is not allowed by Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin<span class="token punctuation">.</span>
</code></pre></div></li></ul> <h3 id="🤜-解决方法-document-domain"><a href="#🤜-解决方法-document-domain" class="header-anchor">#</a> 🤜 解决方法——document.domain</h3> <p>该方法只能只用于<strong>二级域名相同的情况下</strong>。</p> <div class="language-js extra-class"><pre class="language-js"><code>'a<span class="token punctuation">.</span>banana<span class="token punctuation">.</span>com<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
</span><span class="token template-punctuation string">`</span></span>b<span class="token punctuation">.</span>nanana<span class="token punctuation">.</span>com`
document<span class="token punctuation">.</span>domain <span class="token operator">=</span> banana<span class="token punctuation">.</span>com
这样他们就可以跨域访问数据了
</code></pre></div><h3 id="🤜-解决方法-postmessage"><a href="#🤜-解决方法-postmessage" class="header-anchor">#</a> 🤜 解决方法——postMessage</h3></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/question/net/url.html" class="prev">
        输入URL到页面渲染出来，浏览器经历了什么？
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.22502d27.js" defer></script><script src="/assets/js/2.5fab9c2e.js" defer></script><script src="/assets/js/30.92798214.js" defer></script>
  </body>
</html>
